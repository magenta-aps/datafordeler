{% extends 'index.html' %}
{% load staticfiles %}

{% block title %}
    Brugeroversigt
{% endblock %}

{% block content %}

    <form action="" method="post">
        {% csrf_token %}

        <div class="row">
            <div class="title">
                <p>Brugeroversigt</p>
            </div>
        </div>

        <div class="table-filter">

            <a class="button filter_field blue" href="{% url 'dafousers:passworduser-add' %}">
                <div class="flex-left">
                    <img src="/static/dafousers/images/brugerliste/check-white.png">
                </div>
                <div class="flex-center">
                    OPRET NY BRUGER
                </div>
            </a>

            <div class="filter_field" style="display: inline-block;">
                <div class="button dropbtn gray" onclick="toggleShow('status')">
                    <div class="flex-left">
                        <img src="/static/dafousers/images/brugerliste/change.png">
                    </div>
                    <div class="flex-center">
                        SKIFT STATUS
                    </div>
                    <div class="flex-right">
                        <img src="/static/dafousers/images/brugerliste/dropdown-arrow.png">
                    </div>
                </div>
                <span id="status" class="dropdown-content slider white">
                    <button class="button" onclick="submitForm('form_submit', '_status_active')">Aktiv</button>
                    <button class="button" onclick="submitForm('form_submit', '_status_blocked')">Blokeret</button>
                    <button class="button" onclick="submitForm('form_submit', '_status_deactive')">Deaktiveret</button>
                </span>
            </div>

            <div class="button filter_field gray">
                <div class="flex-left">
                    <img src="/static/dafousers/images/brugerliste/check-black.png">
                </div>
                <div class="flex-center">
                    TILDEL RETTIGHEDER
                </div>
            </div>

            <div class="filter_field" style="padding: 7px 35px 7px 50px;">
                <p>Antal brugere i alt: <b>{{ object_list|length }}</b></p>
            </div>

            <select class="filter_field">
                <option selected="" value="all">Vis alle brugere</option>
                <option value="active">Vis aktive brugere</option>
                <option value="blocked">Vis blokerede brugere</option>
                <option value="deactive">Vis deaktiverede brugere</option>
            </select>

            <div class="popup" data-label="rettigheder-box" style="visibility: hidden; display: none; z-index: 1024;">

                <div id="u1865_state0" class="panel_state" data-label="State1" style="">
                    <div id="u1865_state0_content" class="panel_state_content">

                        <!-- Unnamed (Rectangle) -->
                        <div id="u1866" class="ax_default box_1">
                            <div id="u1866_div" class=""></div>
                            <!-- Unnamed () -->
                            <div id="u1867" class="text" style="display:none; visibility: hidden">
                                <p><span></span></p>
                            </div>
                        </div>

                        <!-- Unnamed (Rectangle) -->
                        <div id="u1868" class="ax_default box_3">
                            <div id="u1868_div" class=""></div>
                            <!-- Unnamed () -->
                            <div id="u1869" class="text" style="display:none; visibility: hidden">
                                <p><span></span></p>
                            </div>
                        </div>

                        <!-- Unnamed (Rectangle) -->
                        <div id="u1870" class="ax_default label">
                            <div id="u1870_div" class=""></div>
                            <!-- Unnamed () -->
                            <div id="u1871" class="text" style="top: 2px; transform-origin: 103.5px 11.5px 0px;">
                                <p><span>Tildel rettigheder</span></p>
                            </div>
                        </div>

                        <!-- fortryd-btn (Rectangle) -->
                        <div id="u1872" class="ax_default button" data-label="fortryd-btn" style="cursor: pointer;">
                            <div id="u1872_div" class="" tabindex="0"></div>
                            <!-- Unnamed () -->
                            <div id="u1873" class="text" style="top: 8px; transform-origin: 46.5px 7px 0px;">
                                <p><span>FORTRYD</span></p>
                            </div>
                        </div>

                        <!-- tildel-btn (Rectangle) -->
                        <div id="u1874" class="ax_default button disabled" data-label="tildel-btn" disabled="disabled" style="cursor: pointer;">
                            <img id="u1874_img" class="img disabled" src="images/brugerliste/tildel-btn_u1874_disabled.png" tabindex="0">
                            <!-- Unnamed () -->
                            <div id="u1875" class="text" style="top: 8px; transform-origin: 48.5px 7px 0px;">
                                <p id="cache4"><span id="cache5" style="color: rgb(228, 228, 228);">TILDEL</span></p>
                            </div>
                        </div>

                        <!-- Unnamed (List Box) -->
                        <div id="u1876" class="ax_default list_box">
                            <select id="u1876_input" size="2" multiple="">
                                <option value=" Brugerprofil 1">&nbsp;Brugerprofil 1</option>
                                <option value=" Brugerprofil 2">&nbsp;Brugerprofil 2</option>
                                <option value=" Brugerprofil 3">&nbsp;Brugerprofil 3</option>
                                <option value=" Brugerprofil 4">&nbsp;Brugerprofil 4</option>
                            </select>
                        </div>

                        <!-- Unnamed (Rectangle) -->
                        <div id="u1877" class="ax_default label">
                            <div id="u1877_div" class=""></div>
                            <!-- Unnamed () -->
                            <div id="u1878" class="text" style="left: 0px; width: 122px; transform-origin: 61px 8.5px 0px;">
                                <p><span>Vælg brugerprofil</span></p>
                            </div>
                        </div>

                        <!-- Unnamed (Rectangle) -->
                        <div id="u1879" class="ax_default label">
                            <div id="u1879_div" class=""></div>
                            <!-- Unnamed () -->
                            <div id="u1880" class="text" style="left: 0px; width: 244px; transform-origin: 122px 8.5px 0px;">
                                <p style="font-size:11px;"><span>Hold "Ctrl" nede for at vælge mere end en</span><span style="font-size:14px;"> </span></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="u1865_lightbox" style="display:none; position: fixed; left: 0px; top: 0px; width: 10000px; height: 10000px; background-color: rgb(54, 54, 54); opacity: 0.698039; z-index: 1010;"></div>

        </div>

        <table>
            <tr>
                <td>
                    <input class="checkbox" type="checkbox" id="checkbox_all" onclick="toggleAllCheckboxes(this)">
                </td>
                <td class="ordering">
                    <a href="{% url 'dafousers:passworduser-list' %}?ordering={% if ordering == 'givenname' %}-{% endif %}givenname">Bruger</a>
                </td>
                <td class="ordering">
                    <a href="{% url 'dafousers:passworduser-list' %}?ordering={% if ordering == 'email' %}-{% endif %}email">Email</a>
                </td>
                <td class="ordering">
                    <a href="{% url 'dafousers:passworduser-list' %}?ordering={% if ordering == 'organisation' %}-{% endif %}organisation">Arbejdssted</a>
                </td>
                <td class="ordering">
                    <a href="{% url 'dafousers:passworduser-list' %}?ordering={% if ordering == 'status' %}-{% endif %}status"
                       class="{% if ordering == 'status' %}-{% endif %}"
                    >Status</a>
                </td>
            </tr>
            {% for user in object_list %}
                <tr>
                    <td><input class="checkbox" name="user_id" type="checkbox" id="checkbox_{{ user.id }}"
                               value="{{ user.id }}"></td>
                    <td class="txtdata">
                        <a href="{% url 'dafousers:passworduser-details' user.id %}">
                        {{ user.givenname }} {{ user.lastname }}</a>
                    </td>
                    <td class="txtdata">{{ user.email }}</td>
                    <td class="txtdata">{{ user.organisation }}</td>
                    <td class="txtdata">{{ user.get_status_display }}</td>
                </tr>
            {% endfor %}
        </table>

        <input style="display:none;" id="ordering" name="ordering" value="givenname" >
        <input style="display:none;" id="form_submit" name="action" value="" >

    </form>

{% endblock %}